# =============================================
# Claude Terminal - Tmux 配置文件
# =============================================

# 鼠标支持
set -g mouse on

# 256 色支持
set -g default-terminal "screen-256color"

# 更好的快捷键前缀（可选，保持默认 Ctrl+b）
# set -g prefix C-a
# unbind C-b
# bind-key C-a send-prefix

# 分割窗口快捷键
bind | split-window -h
bind - split-window -v

# 窗口切换快捷键 (vim 风格)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# 窗口大小调整
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# 复制模式使用 vi 风格
setw -g mode-keys vi

# 复制粘贴快捷键优化
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# 状态栏配置
set -g status-bg black
set -g status-fg white
set -g status-left-length 40
set -g status-left "#[fg=green]Session: #S #[fg=yellow]#I #[fg=cyan]#P"
set -g status-right "#[fg=cyan]%d %b %R"
set -g status-justify centre

# 活动窗口高亮
setw -g window-status-current-style fg=white,bg=red,bright

# 窗口状态格式
setw -g window-status-format " #F#I:#W#F "
setw -g window-status-current-format " #F#I:#W#F "

# 重新加载配置文件快捷键
bind r source-file ~/.tmux.conf \; display "配置重新加载!"

# 启动时间优化
set -s escape-time 1

# 窗口编号从1开始
set -g base-index 1
setw -g pane-base-index 1

# 自动重新编号窗口
set -g renumber-windows on

# 保持窗口名称
setw -g automatic-rename off
setw -g allow-rename off

# 增加历史缓冲区大小
set -g history-limit 10000

# 活动监控
setw -g monitor-activity on
set -g visual-activity on

# 更好的默认shell
set -g default-shell /bin/bash